(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(22)},18:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(5),l=n.n(c),s=n(1),u=n(6),o=n(7),i=n(9),m=n(8),d=n(10),p=(n(18),function(e){var t=e.name,n=e.username,a=e.email,c=e.address;return r.a.createElement("div",{className:"post-page__user"},t,n&&"(".concat(n,")"),r.a.createElement("br",null),a,r.a.createElement("br",null),c&&"City: ".concat(c.city),r.a.createElement("br",null),c&&"Street: ".concat(c.street))});p.defaultProps={name:null,username:null,address:null};var f=p,h=function(e){var t=e.comment;return r.a.createElement("div",{className:"comment-list__comment"},r.a.createElement(f,{email:t.email}),r.a.createElement("div",null,r.a.createElement("h4",null,t.name),r.a.createElement("p",null,t.body)))},b=(n(19),function(e){var t=e.comments;return r.a.createElement("div",{className:"comment-list"},r.a.createElement("h3",null,"Comments"),r.a.createElement("div",{className:"comment-list__body"},t&&t.map(function(e){return r.a.createElement(h,{comment:e,key:"comment"+e.id+e.postId})})))});b.defaultProps={comments:null};var v=b,y=(n(20),function(e){var t=e.title,n=e.body,a=e.comments,c=e.user;return r.a.createElement("div",{className:"post-page"},r.a.createElement(f,c),r.a.createElement("div",{className:"post-page__post"},r.a.createElement("h2",null,t),r.a.createElement("div",null,n),r.a.createElement(v,{comments:a})))});y.defaultProps={comments:null};var E=y,k=function(e){var t=e.posts;return r.a.createElement("div",null,t.map(function(e){return r.a.createElement(E,Object.assign({},e,{key:"post ".concat(e.id)}))}))},j=n(11),B=n(2),O=n.n(B),x=n(3),w=function(){var e=Object(x.a)(O.a.mark(function e(t){var n,a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(x.a)(O.a.mark(function e(){var t,n,a,r,c;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://jsonplaceholder.typicode.com/",e.next=3,w("".concat(t,"posts"));case 3:return n=e.sent,e.next=6,w("".concat(t,"users"));case 6:return a=e.sent,e.next=9,w("".concat(t,"comments"));case 9:return r=e.sent,e.next=12,n.map(function(e){return Object(j.a)({},e,{user:a.find(function(t){return t.id===e.userId}),comments:r.filter(function(t){return e.id===t.postId})})});case 12:return c=e.sent,e.abrupt("return",c);case 14:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),_=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={renderButton:!0,postsWhithUser:[],filter:[]},n.handleClick=function(){var e=document.querySelector(".load-button");e.disabled=!0,e.textContent="Loading...",N().then(function(e){n.setState({postsWhithUser:Object(s.a)(e),filter:Object(s.a)(e),renderButton:!1})})},n.filtredBy=function(){var e=document.searchForm.elements,t=e.searchInput.value;if(""!==t){for(var a,r="",c=0;c<2;c+=1)e.searchBy[c].checked&&(r+=e.searchBy[c].value);switch(r){case"body":a=function(e){return e.body.includes(t)};break;case"titlebody":a=function(e){return e.title.includes(t)||e.body.includes(t)};break;default:a=function(e){return e.title.includes(t)}}var l=n.state.postsWhithUser.filter(a);n.setState({filter:Object(s.a)(l)})}else n.setState(function(e){return{filter:Object(s.a)(e.postsWhithUser)}})},n.filterBlur=function(){""===document.searchForm.elements.searchInput.value&&n.setState(function(e){return{filter:Object(s.a)(e.postsWhithUser)}})},n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Dynamic list of posts"),this.state.renderButton?r.a.createElement("button",{type:"button",className:"load-button",onClick:this.handleClick},"Load"):r.a.createElement("div",null,r.a.createElement("form",{className:"search-form",name:"searchForm",action:"",onSubmit:function(t){t.preventDefault(),e.filtredBy()}},r.a.createElement("input",{className:"search-form__input",name:"searchInput",type:"search",onBlur:this.filterBlur}),r.a.createElement("button",{type:"submit"},"Search"),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"checkTitle"},r.a.createElement("input",{name:"searchBy",type:"checkbox",value:"title",defaultChecked:"true",id:"checkTitle"}),"by post title"),r.a.createElement("label",{htmlFor:"checkBody"},r.a.createElement("input",{name:"searchBy",type:"checkbox",value:"body",id:"checkBody"}),"by post text")),r.a.createElement(k,{posts:this.state.filter})))}}]),t}(r.a.Component);l.a.render(r.a.createElement(_,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.51b0d4a8.chunk.js.map